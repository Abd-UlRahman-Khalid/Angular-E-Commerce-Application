<div class="py-10 bg-white">
  @if( cardDetails.totalCartPrice ){
  <section class="main-section w-[75%] mx-auto rounded-full">
    <h1 class="text-center text-3xl text-white p-5 font-bold">Shop Cart</h1>
    <p class="text-center pb-10">
      "Your cart, your choicesâ€”just one step away from making them yours!"
    </p>

    <div class="pb-5">
      @for (product of cardDetails.products; track product.product.id ) {
      <div class="p-5 flex gap-3 bg-gray-800 rounded-3xl m-3">
        <!-- img -->
        <div class="w-1/4 object-contain rounded-3xl overflow-hidden">
          <img
            [src]="product.product.imageCover"
            [alt]="product.product.title"
            class="w-full object-contain"
          />
        </div>
        <div class="whishinfo w-3/4 flex justify-between">
          <!-- info -->
          <div class="w-2/4 flex flex-col justify-between">
            <div class="">
              <h1 class="text-2xl font-bold">{{ product.product.title }}</h1>
              <span
                class="rounded-full bg-yellow-600 py-1 px-2 my-2 inline-block"
              >
                <span class="font-bold">Price: </span
                >{{ product.price | currency : "GBP" }}</span
              >
            </div>

            <div>
              <button (click)="removeItem(product.product.id)" class="">
                <i class="fas fa-trash-can text-green-600"></i> Remove
              </button>
            </div>
          </div>
          <!-- btns -->
          <div>
            <button class="text-green-600 text-3xl">
              <i
                class="fa-regular fa-square-plus"
                (click)="updateCount(product.product.id, product.count + 1)"
              ></i>
            </button>
            <span class="px-5">{{ product.count }}</span>
            <button class="text-green-600 text-3xl">
              <i
                class="fa-regular fa-square-minus"
                (click)="updateCount(product.product.id, product.count - 1)"
              ></i>
            </button>
          </div>
        </div>
      </div>
      }
    </div>

    <div class="flex items-center justify-between border-t p-5 m-5">
      <span class="text-3xl font-bold">Total Cart Prise: </span>

      <span class="text-3xl font-bold">
        {{ cardDetails.totalCartPrice | currency : "GBP" }}</span
      >
    </div>

    <div class="m-5 flex justify-between">
      <button
        class="bg-red-700 px-12 py-2 rounded-full hover:bg-red-800 transition-colors duration-500 mt-5"
        (click)="clearItems()"
      >
        <i class="fa-solid fa-trash"></i> Clear Cart
      </button>
      <button
        class="btn-main font-bold"
        [routerLink]="['/checkout', cardDetails._id]"
      >
        Check Out
      </button>
    </div>
  </section>
  }@else {
  <section class="flex flex-col justify-center items-center">
    <img src="/images/empty-cart.png" alt="" />
    <h1 class="text-xl text-gray-400 font-bold">Oops! Your Cart is Empty</h1>
  </section>

  }
</div>
